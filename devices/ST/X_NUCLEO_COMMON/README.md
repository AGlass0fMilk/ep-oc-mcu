Adapted from original repository here: https://os.mbed.com/teams/ST/code/X_NUCLEO_COMMON/
